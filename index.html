
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="image/logo.png">
      <meta name="generator" content="mkdocs-1.3.0, mkdocs-material-8.2.15">
    
    
      
        <title>Plugin - Mongo</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.c382b1dc.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.cc9b2e1e.min.css">
        
          
          
          <meta name="theme-color" content="#02a6f2">
        
      
    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="stylesheets/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="light-blue" data-md-color-accent="">
  
    
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#overview" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Plugin - Mongo" class="md-header__button md-logo" aria-label="Plugin - Mongo" data-md-component="logo">
      
  <img src="image/delphix-logo-black1x.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Plugin - Mongo
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Overview
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Plugin - Mongo" class="md-nav__button md-logo" aria-label="Plugin - Mongo" data-md-component="logo">
      
  <img src="image/delphix-logo-black1x.svg" alt="logo">

    </a>
    Plugin - Mongo
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="." class="md-nav__link md-nav__link--active">
        Overview
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ingestion-types" class="md-nav__link">
     Ingestion Types:
  </a>
  
    <nav class="md-nav" aria-label=" Ingestion Types:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#seed" class="md-nav__link">
    Seed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongodump-offlinemongodump" class="md-nav__link">
    Mongodump (offlinemongodump)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongodump-onlinemongodump" class="md-nav__link">
    Mongodump (onlinemongodump)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-cluster-extendedcluster" class="md-nav__link">
    Extended Cluster (extendedcluster)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongo-ops-manager-backups-shardedmongo" class="md-nav__link">
    Mongo OPS Manager backups (shardedmongo)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cluster-to-cluster-sync-shardedmongo" class="md-nav__link">
    Cluster to Cluster Sync (shardedmongo)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongo-ops-manager-backups-nonshardedmongo-replicaset" class="md-nav__link">
    Mongo OPS Manager backups (nonshardedmongo replicaset)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staging-push-stagingpush" class="md-nav__link">
    Staging Push (stagingpush)
  </a>
  
    <nav class="md-nav" aria-label="Staging Push (stagingpush)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-mongo-database" class="md-nav__link">
    New Mongo Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-mongo-database-backup-using-mongo-ops-manager-non-sharded-only" class="md-nav__link">
    Restore Mongo Database backup using Mongo OPS Manager  [ Non-Sharded ONLY ]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-mongo-secondary-instance-non-sharded-only" class="md-nav__link">
    Create Mongo Secondary Instance  [ Non-Sharded ONLY ]
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Architecture/" class="md-nav__link">
        Architecture
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="InstallPlugin/" class="md-nav__link">
        Install Plugin
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Requirements
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Requirements" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Requirements
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Requirements/SupportMatrix/" class="md-nav__link">
        Support Matrix
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Requirements/Source/" class="md-nav__link">
        Source Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Requirements/Staging/" class="md-nav__link">
        Staging Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Requirements/Target/" class="md-nav__link">
        Target Requirements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Requirements/NetworkPorts/" class="md-nav__link">
        Network Port Requirements
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Discovery/" class="md-nav__link">
        Discovery
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Linking/" class="md-nav__link">
        Linking
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Provisioning/" class="md-nav__link">
        Provisioning
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Operations/" class="md-nav__link">
        Operations
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Upgrades
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Upgrades" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Upgrades
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Upgrades/UpgradePlugin/" class="md-nav__link">
        Upgrade Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Upgrades/UpgradeDsource/" class="md-nav__link">
        Upgrade dSource
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Upgrades/UpgradeVDB/" class="md-nav__link">
        Upgrade VDB
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Limitations/" class="md-nav__link">
        Limitations
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Release Notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release Notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Release Notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_1" type="checkbox" id="__nav_11_1" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_1">
          1.2.0
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1.2.0" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_1">
          <span class="md-nav__icon md-icon"></span>
          1.2.0
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Release_Notes/1.2.0/Release-v1.2.0/" class="md-nav__link">
        Release-v1.2.0
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_2" type="checkbox" id="__nav_11_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_2">
          1.1.0
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1.1.0" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_2">
          <span class="md-nav__icon md-icon"></span>
          1.1.0
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Release_Notes/1.1.0/Release-v1.1.0/" class="md-nav__link">
        Release-v1.1.0
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_3" type="checkbox" id="__nav_11_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_3">
          1.0.2
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1.0.2" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_3">
          <span class="md-nav__icon md-icon"></span>
          1.0.2
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Release_Notes/1.0.2/Release-v1.0.2/" class="md-nav__link">
        Release-v1.0.2
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_4" type="checkbox" id="__nav_11_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_4">
          1.0.1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1.0.1" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_4">
          <span class="md-nav__icon md-icon"></span>
          1.0.1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Release_Notes/1.0.1/Release-v1.0.1/" class="md-nav__link">
        Release-v1.0.1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11_5" type="checkbox" id="__nav_11_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11_5">
          1.0.0
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="1.0.0" data-md-level="2">
        <label class="md-nav__title" for="__nav_11_5">
          <span class="md-nav__icon md-icon"></span>
          1.0.0
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Release_Notes/1.0.0/Release-v1.0.0/" class="md-nav__link">
        Release-v1.0.0
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Troubleshooting/" class="md-nav__link">
        Troubleshooting
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#ingestion-types" class="md-nav__link">
     Ingestion Types:
  </a>
  
    <nav class="md-nav" aria-label=" Ingestion Types:">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#seed" class="md-nav__link">
    Seed
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongodump-offlinemongodump" class="md-nav__link">
    Mongodump (offlinemongodump)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongodump-onlinemongodump" class="md-nav__link">
    Mongodump (onlinemongodump)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extended-cluster-extendedcluster" class="md-nav__link">
    Extended Cluster (extendedcluster)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongo-ops-manager-backups-shardedmongo" class="md-nav__link">
    Mongo OPS Manager backups (shardedmongo)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cluster-to-cluster-sync-shardedmongo" class="md-nav__link">
    Cluster to Cluster Sync (shardedmongo)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mongo-ops-manager-backups-nonshardedmongo-replicaset" class="md-nav__link">
    Mongo OPS Manager backups (nonshardedmongo replicaset)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#staging-push-stagingpush" class="md-nav__link">
    Staging Push (stagingpush)
  </a>
  
    <nav class="md-nav" aria-label="Staging Push (stagingpush)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#new-mongo-database" class="md-nav__link">
    New Mongo Database
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restore-mongo-database-backup-using-mongo-ops-manager-non-sharded-only" class="md-nav__link">
    Restore Mongo Database backup using Mongo OPS Manager  [ Non-Sharded ONLY ]
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-mongo-secondary-instance-non-sharded-only" class="md-nav__link">
    Create Mongo Secondary Instance  [ Non-Sharded ONLY ]
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                


<h1 id="overview">Overview</h1>
<p>MongoDB plugin helps to virtualize mongoDB data source leveraging the built-in mongoDB technologies like Replication, Mongodump/MongoRestore, Mongo OpsManager Backups:</p>
<p>Supported Mongo Technologies for Ingestion (create dSource) :</p>
<ul>
<li><strong>Mongodump</strong>              : Export source data and import into Staging mongo instance (dSource). Useful for offline/online backups of small databases (onprem, Saas, MongoAtlas)</li>
<li><strong>Replication</strong>            : Add replicaset member to existing cluster. Fastest way to capture incrementals from the replicaset source.</li>
<li><strong>Mongo Ops Manager</strong>      : Leverage existing backups, downloaded as compressed file(s), from Mongo OPS Manager. This mechanism can be used for ingesting sharded mongo database backups.</li>
<li><strong>Cluster to cluster Sync</strong>: Leverage MongoSync utility to synchronise Non-Production Sharded cluster (Staging Cluster) with existing Source Cluster. Fastest way to get incrementals from sharded source. </li>
</ul>
<h2 id="ingestion-types"><a id="Ingestion_Types"></a> Ingestion Types:</h2>
<table>
<thead>
<tr>
<th align="left">dSource Type</th>
<th align="left">Mechanism</th>
<th align="center">Zero Touch Prod</th>
<th align="left">Description</th>
<th align="left">Support Incrementals</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Seed</td>
<td align="left">New Mongo Instance</td>
<td align="center">N/A</td>
<td align="left">New empty mongo instance created by delphix. This is for development of new applications without ingesting data from any source.</td>
<td align="left">N/A</td>
</tr>
<tr>
<td align="left">extendedcluster</td>
<td align="left">Add member to existing replicaset</td>
<td align="center">N</td>
<td align="left">Add member to existing source replicaset. Instant and near realtime incremental data capture in delphix</td>
<td align="left">Y</td>
</tr>
<tr>
<td align="left">onlinemongodump</td>
<td align="left">mongodump</td>
<td align="center">N</td>
<td align="left">Delphix connects to source from staging environments, executes mongodump utility and captures source data. Delphix captures all databases from the mongo instance.</td>
<td align="left">N</td>
</tr>
<tr>
<td align="left">offlinemongodump</td>
<td align="left">mongodump</td>
<td align="center">Y</td>
<td align="left">Delphix leverages existing mongodumps made available to staging host. Supports backups taken using  <code>mongodump --oplog --gzip -o &lt; bkp_dir &gt;</code> OR <code>mongodump --gzip -o &lt; bkp_dir &gt;</code> command. database dumps for 1 or more database OR 1 or more collections is supported.</td>
<td align="left">N</td>
</tr>
<tr>
<td align="left">shardedsource</td>
<td align="left">Mongo OPS Manager Backups</td>
<td align="center">Y</td>
<td align="left">Delphix leverages existing mongo ops manager backups of sharded source as backup files presented to staging host. Delphix expects 1 configserver backup file and 1 backup file per shard available in backup location.</td>
<td align="left">N</td>
</tr>
<tr>
<td align="left">shardedsource</td>
<td align="left">Cluster-to-cluster Sync</td>
<td align="center">N</td>
<td align="left">Delphix leverages MongoSync utility to synchronise Non-Production Sharded Cluster with existing sharded cluster.</td>
<td align="left">Y</td>
</tr>
<tr>
<td align="left">nonshardedsource</td>
<td align="left">Mongo OPS Manager Backups</td>
<td align="center">Y</td>
<td align="left">Delphix leverages existing mongo ops manager backup of non sharded source. Backup file need to be available on staging host file system.</td>
<td align="left">N</td>
</tr>
<tr>
<td align="left">stagingpush</td>
<td align="left">User created mongo instance</td>
<td align="center">Y/N</td>
<td align="left">Delphix provides filesystem on Staging host that can be used for deploying mongo instance by User. User responsible to create working mongo instance on staging host either manually or using any tools like mongo ops manager after the filesystem creation.</td>
<td align="left">Y/N</td>
</tr>
</tbody>
</table>
<p><small></p>
<ul>
<li>Zero Touch Prod (Y) = Interaction with Source Server is not required by Delphix.  </li>
<li>Zero Touch Prod (N) = Interaction with Source Server is needed by Delphix. Delphix expects connection to source using credentials etc.  </li>
</ul>
<p></small></p>
<h3 id="seed"><a id="Seed"></a>Seed</h3>
<p>This type of dSource is generally used for pure development purpose. There is no source instance associated with it. It creates a empty instance which is managed by delphix and helps to create virtual mongo instance to avail benefits of all delphix features.</p>
<h3 id="mongodump-offlinemongodump"><a id="Mongodump_offline"></a>Mongodump (offlinemongodump)</h3>
<p>This type of dsource is created using mongodump backup file(s) of source mongo instance. It helps to create dsource using zero touch production. Periodic backups can be loaded to create timeline of dsource.</p>
<h3 id="mongodump-onlinemongodump"><a id="Mongodump_online"></a>Mongodump (onlinemongodump)</h3>
<p>This type of dsource is created using mongodump backup of source mongo instance. It helps to create dsource using online backup. Policy can be scheduled to capture Periodic backup and generate timeline of dsource.</p>
<h3 id="extended-cluster-extendedcluster"><a id="online_replicaset"></a>Extended Cluster (extendedcluster)</h3>
<p>This type of dsource is created by adding secondary member to existing source cluster. This member does not participate in voting and never becomes primary nor serves any read operations. Its the fastest way of capturing incrementals. Policy can be set to take snapshots to generate desired timeline.</p>
<h3 id="mongo-ops-manager-backups-shardedmongo"><a id="opsmgr_sharded"></a>Mongo OPS Manager backups (shardedmongo)</h3>
<p>This type of dsource is created using backup files of source mongo instance created by mongo ops manager. It helps to create dsource of sharded source cluster. It helps to create dsource using zero touch production. Periodic backups can be loaded to create timeline of dsource.</p>
<h3 id="cluster-to-cluster-sync-shardedmongo"><a id="c2c_sharded"></a>Cluster to Cluster Sync (shardedmongo)</h3>
<p>This type of dsource is created by setting up a MongoSync synchronisation pipeline between dsource and source sharded cluster. It helps to create dsource of sharded source cluster. Its fastest way of capturing incrementals of a sharded cluster. Policy can be set to take snapshots to generate desired timeline.</p>
<h3 id="mongo-ops-manager-backups-nonshardedmongo-replicaset"><a id="opsmgr_nonsharded"></a>Mongo OPS Manager backups (nonshardedmongo replicaset)</h3>
<p>This type of dsource is created using backup file of source mongo instance created by mongo ops manager. It helps to create dsource of non-sharded source cluster. It helps to create dsource using zero touch production. Periodic backups can be loaded to create timeline of dsource.</p>
<h3 id="staging-push-stagingpush"><a id="stagingpush"></a>Staging Push (stagingpush)</h3>
<p>This type of dsource can be created in multiple ways. It varies based on use case. It can be created manually, copy of files at o/s level or using tools like Mongo OPS Manager. Below are some of the methods that can be used to create mongo instance on stagingpush delphix filesystem.<br />
<strong>Note:</strong> Delphix only exhibits the operations needed to capture data. Creation and Deletion of Mongo Instance on staging host will be responsibility of user.  </p>
<h4 id="new-mongo-database"><strong>New Mongo Database</strong></h4>
<ol>
<li>Create new dSource of type stagingpush and Capture name of mountpoint filesystem provided to delphix while creating dsource.</li>
<li>Create new empty single member mongo replicaset cluster using Mongo OPS Manager or by any other tool/mechanism. Make sure to use same delphix mountpoint path used in dsource creation, appended with <code>/s0m0</code>, as location for datafiles. Also use same port that was provided while creating dSource.   </li>
<li>You can optionally restore any required data on this instance using mongorestore or scripts.</li>
<li>Update permissions of mongo files if any other user is used to create mongo instance than configured environment user in delphix. e.g.  </li>
</ol>
<p>login as root
<div class="highlight"><pre><span></span><code>  su -m mongod -c &#39;chmod -R 775 /mnt/provision/stagingpush/s0m0&#39;
</code></pre></div>
OR<br />
login as mongod
<div class="highlight"><pre><span></span><code>  chmod -R 775 /mnt/provision/stagingpush/s0m0
</code></pre></div>
<em>Note</em>: Delphix always appends <code>/s0m0</code> as subfolder to the filesystem provuded while creating stagingpush dSource. If <code>/mnt/provision/stagingpush</code> was provided as mountpoint while creating dsource, provide <code>/mnt/provision/stagingpush/s0m0</code> as datafile location while creating mongo Instance manually or via tools.</p>
<h4 id="restore-mongo-database-backup-using-mongo-ops-manager-non-sharded-only"><strong>Restore Mongo Database backup using Mongo OPS Manager  [ Non-Sharded ONLY ]</strong></h4>
<ol>
<li>Create new dSource of type stagingpush and Capture name of mountpoint filesystem, replicaset name provided to delphix while creating dsource. </li>
<li>Create new empty single member mongo replicaset cluster using Mongo OPS Manager or by any other tool/mechanism. Make sure to use same delphix mountpoint path used in dsource creation, appended with <code>s0m0</code> as location for datafiles. Also use same port and replicaset name that was provided while creating dSource.  </li>
<li>Select desired backup to restore from Mongo OPS Manager.</li>
<li>Restore backup to existing cluster and select the name of cluster that was created for dSource.</li>
<li>Mongo OPS Manager will restore backup replacing existing data (empty instance) and keep same port and datafile location.</li>
<li>Once the restoration is complete, Take snapshot from delphix and discard/delete any snapshots that was created before restoring database.</li>
<li>Update permissions of mongo files if any other user is used to create mongo instance than configured environment user in delphix. e.g.   </li>
</ol>
<p>login as root
<div class="highlight"><pre><span></span><code>  su -m mongod -c &#39;chmod -R 775 /mnt/provision/stagingpush/s0m0&#39;
</code></pre></div>
OR<br />
login as mongod
<div class="highlight"><pre><span></span><code>  chmod -R 775 /mnt/provision/stagingpush/s0m0
</code></pre></div></p>
<p><em>Note</em>: Delphix always appends <code>/s0m0</code> as subfolder to the filesystem provided while creating stagingpush dSource. If <code>/mnt/provision/stagingpush</code> was provided as mountpoint while creating dsource, provide <code>/mnt/provision/stagingpush/s0m0</code> as datafile location while creating mongo Instance manually or via tools.</p>
<h4 id="create-mongo-secondary-instance-non-sharded-only"><strong>Create Mongo Secondary Instance  [ Non-Sharded ONLY ]</strong></h4>
<ol>
<li>Create new dSource of type stagingpush and Capture name of mountpoint filesystem provided to delphix while creating dsource. Provide correct primary source hostname, port and replicaset name during dSource creation. </li>
<li>Modify existing replicaset Cluster using OPS Manager or Manually.   <ul>
<li>Add new <code>hidden</code> member to existing replicaset. Make sure to use same delphix mountpoint path used in dsource creation, appended with <code>s0m0</code> as location for datafiles. Also use same port that was provided while creating dSource.  </li>
<li>Set Votes = 0, Priority = 0. This will ensure this member never contributes in election and never becomes primary.</li>
</ul>
</li>
<li>Mongo will start replicating data from existing node to newly created instance.</li>
<li>Once the initial sync is complete, Take snapshot of dsource from delphix and discard/delete any snapshots that were created before initial sync was completed.</li>
<li>Update permissions of mongo files if any other user is used to create mongo instance than configured environment user in delphix. e.g.   </li>
</ol>
<p>login as root
<div class="highlight"><pre><span></span><code>  su -m mongod -c &#39;chmod -R 775 /mnt/provision/stagingpush/s0m0&#39;
</code></pre></div>
OR<br />
login as mongod
<div class="highlight"><pre><span></span><code>  chmod -R 775 /mnt/provision/stagingpush/s0m0
</code></pre></div></p>
<p><em>Note</em>: Delphix always appends <code>/s0m0</code> as subfolder to the filesystem provuded while creating stagingpush dSource. If <code>/mnt/provision/stagingpush</code> was provided as mountpoint while creating dsource, provide <code>/mnt/provision/stagingpush/s0m0</code> as datafile location while creating mongo Instance manually or via tools.</p>

              
            </article>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
      
        
        <a href="Architecture/" class="md-footer__link md-footer__link--next" aria-label="Next: Architecture" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Architecture
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": [], "search": "assets/javascripts/workers/search.2a1c317c.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="assets/javascripts/bundle.a6c66575.min.js"></script>
      
    
  </body>
</html>